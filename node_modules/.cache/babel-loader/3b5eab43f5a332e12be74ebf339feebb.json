{"ast":null,"code":"var _jsxFileName = \"/mnt/d/7th Semester/sabkuch/src/Components/addtocart.js\";\nconst shoppingProducts = [{\n  id: 0,\n  name: \"Nike VaporFly 4% Flyknit\",\n  price: 209,\n  image: \"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/acmoik7t1kfbprm8hsqs/vaporfly-4-flyknit-running-shoe-7R7zSn.jpg\",\n  quantityInCart: 0,\n  inCart: false\n}, {\n  id: 1,\n  name: \"Nike Air Monarch IV PR\",\n  price: 89,\n  image: \"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/vjsleghax3228bpidanh/air-monarch-iv-pr-shoe-qf64pl.jpg\",\n  quantityInCart: 0,\n  inCart: false\n}, {\n  id: 2,\n  name: \"Nike Air Max Deluxe SE\",\n  price: 149,\n  image: \"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/rkhls7wdxdydeg1vkwkt/air-max-deluxe-se-shoe-T6Vkl2.jpg\",\n  quantityInCart: 0,\n  inCart: false\n}];\n\nclass Header extends React.Component {\n  render() {\n    return React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }), React.createElement(ShoppingCart, {\n      quantity: this.props.quantity,\n      amountToPay: this.props.amountToPay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass Navigation extends React.Component {\n  render() {\n    return React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"Browse\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Contact\"));\n  }\n\n}\n\nclass ShoppingCart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.showOverlay = this.showOverlay.bind(this);\n  }\n\n  showOverlay() {\n    document.getElementById('overlay').style.display = 'flex';\n    document.querySelector('body').style.overflow = 'hidden';\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: this.props.quantity == 0 ? \"hide-price\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.quantity), React.createElement(\"i\", {\n      className: \"fas fa-shopping-cart\",\n      onClick: this.showOverlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ShoppingCartOverlay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateAmountToPay = this.updateAmountToPay.bind(this);\n  }\n\n  closeOverlay() {\n    document.getElementById('overlay').style.display = 'none';\n    document.querySelector('body').style.overflow = 'auto';\n  }\n\n  updateAmountToPay(item) {\n    this.forceUpdate();\n  }\n\n  render() {\n    let itemsInCart = this.props.data.itemsInCart.map((item, index) => {\n      // Return key which defines an order of items inside a cart. The order in a cart is different than in database\n      return React.createElement(ShoppingCartProduct, {\n        key: index,\n        item: item,\n        indexInCart: index,\n        removeFromCart: this.props.removeFromCart,\n        updateAmountToPay: this.updateAmountToPay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    });\n    let amountToPay = 0;\n\n    for (let i = 0; i < this.props.data.items.length; i++) {\n      amountToPay += this.props.data.items[i].price * this.props.data.items[i].quantityInCart;\n    }\n\n    return React.createElement(\"div\", {\n      id: \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      id: \"shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"cart-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"cart-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Shopping Cart\"), React.createElement(\"i\", {\n      className: \"far fa-times-circle\",\n      onClick: this.closeOverlay.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Product\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Total\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, itemsInCart)), React.createElement(\"span\", {\n      id: \"empty-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, itemsInCart.length == 0 ? \"Shopping cart is empty\" : \"\"), React.createElement(\"h3\", {\n      id: \"cart-total\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Cart Total\"), React.createElement(\"div\", {\n      id: \"totals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Cart Totals\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Number of items: \", this.props.data.quantity), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Total: \\xA3\", amountToPay)), React.createElement(\"button\", {\n      id: \"checkout\",\n      disabled: itemsInCart.length == 0 ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Checkout\")));\n  }\n\n}\n\nclass ShoppingCartProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleRemoveFromCart = this.handleRemoveFromCart.bind(this);\n    this.handleQuantityChange = this.handleQuantityChange.bind(this);\n  }\n\n  handleRemoveFromCart(e) {\n    this.props.removeFromCart(this.props.item, this.props.indexInCart);\n  }\n\n  handleQuantityChange(e) {\n    this.props.item.quantityInCart = e.target.value; // Update total value\n\n    this.forceUpdate();\n    this.props.updateAmountToPay(this.props.item);\n  }\n\n  render() {\n    return React.createElement(\"tr\", {\n      className: \"items-in-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.item.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, this.props.item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"\\xA3\", this.props.item.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      name: \"quantity\",\n      min: \"1\",\n      max: \"10\",\n      onChange: this.handleQuantityChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"\\xA3\", this.props.item.price * this.props.item.quantityInCart), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      onClick: this.handleRemoveFromCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass ProductList extends React.Component {\n  render() {\n    let items = this.props.items.map((item, index) => {\n      return React.createElement(Product, {\n        key: item.id,\n        item: item,\n        addToCart: this.props.addToCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"section\", {\n      id: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, items);\n  }\n\n}\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddToCart = this.handleAddToCart.bind(this);\n  }\n\n  handleAddToCart(e) {\n    this.props.addToCart(this.props.item);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.item.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, this.props.item.name), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"\\xA3 \", this.props.item.price), React.createElement(\"button\", {\n      onClick: this.handleAddToCart,\n      disabled: this.props.item.inCart,\n      className: this.props.item.inCart ? \"button-disabled\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.props.item.inCart ? \"Item in a cart\" : \"Add to cart\")));\n  }\n\n}\n\nclass ShoppingCartApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: shoppingProducts,\n      quantity: 0,\n      amountToPay: 0,\n      itemsInCart: []\n    };\n    this.addToCart = this.addToCart.bind(this);\n    this.removeFromCart = this.removeFromCart.bind(this);\n  }\n\n  addToCart(item) {\n    let itemsInCart = this.state.itemsInCart;\n    itemsInCart.push(this.props.items[item.id]);\n    shoppingProducts[item.id].inCart = true;\n    shoppingProducts[item.id].quantityInCart = 1;\n    this.setState({\n      quantity: this.state.quantity + 1,\n      amountToPay: this.state.amountToPay + this.props.items[item.id].price,\n      itemsInCart: itemsInCart,\n      items: shoppingProducts\n    });\n  }\n\n  removeFromCart(item, indexInCart) {\n    let itemsInCart = this.state.itemsInCart;\n    shoppingProducts[item.id].inCart = false;\n    shoppingProducts[item.id].quantityInCart = 0;\n    itemsInCart.splice(indexInCart, 1);\n    this.setState({\n      quantity: this.state.quantity - 1,\n      amountToPay: this.state.amountToPay - this.props.items[item.id].price,\n      itemsInCart: itemsInCart,\n      items: shoppingProducts\n    });\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Header, {\n      quantity: this.state.quantity,\n      amountToPay: this.state.amountToPay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }), React.createElement(ShoppingCartOverlay, {\n      data: this.state,\n      removeFromCart: this.removeFromCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(ProductList, {\n      items: this.props.items,\n      addToCart: this.addToCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ShoppingCartApp;","map":{"version":3,"sources":["/mnt/d/7th Semester/sabkuch/src/Components/addtocart.js"],"names":["shoppingProducts","id","name","price","image","quantityInCart","inCart","Header","React","Component","render","props","quantity","amountToPay","Navigation","ShoppingCart","constructor","showOverlay","bind","document","getElementById","style","display","querySelector","overflow","ShoppingCartOverlay","updateAmountToPay","closeOverlay","item","forceUpdate","itemsInCart","data","map","index","removeFromCart","i","items","length","ShoppingCartProduct","handleRemoveFromCart","handleQuantityChange","e","indexInCart","target","value","ProductList","addToCart","Product","handleAddToCart","ShoppingCartApp","state","push","setState","splice"],"mappings":"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","sourcesContent":["const shoppingProducts = [\r\n  {id: 0, name: \"Nike VaporFly 4% Flyknit\", price: 209, image:\"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/acmoik7t1kfbprm8hsqs/vaporfly-4-flyknit-running-shoe-7R7zSn.jpg\", quantityInCart: 0, inCart: false}, \r\n  {id: 1, name: \"Nike Air Monarch IV PR\", price: 89, image:\"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/vjsleghax3228bpidanh/air-monarch-iv-pr-shoe-qf64pl.jpg\", quantityInCart: 0, inCart: false},\r\n  {id: 2, name: \"Nike Air Max Deluxe SE\", price: 149, image:\"https://c.static-nike.com/a/images/f_auto,b_rgb:f5f5f5,w_880/rkhls7wdxdydeg1vkwkt/air-max-deluxe-se-shoe-T6Vkl2.jpg\", quantityInCart: 0, inCart: false}\r\n];\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <Navigation />\r\n        <ShoppingCart quantity={this.props.quantity}\r\n          amountToPay={this.props.amountToPay} />  \r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nclass Navigation extends React.Component {\r\n  render() {\r\n    return (\r\n      <nav>\r\n        <a href=\"#\">Home</a>\r\n        <a href=\"#\">Browse</a>\r\n        <a href=\"#\">Contact</a>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nclass ShoppingCart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.showOverlay = this.showOverlay.bind(this);\r\n  }\r\n  showOverlay() {\r\n    document.getElementById('overlay').style.display = 'flex';\r\n    document.querySelector('body').style.overflow = 'hidden';\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"cart\">\r\n        {/* Hide a number of items if it's equal 0 */}\r\n        <span className={this.props.quantity == 0 ? \"hide-price\" : \"\"}>{this.props.quantity}</span>\r\n        <i className=\"fas fa-shopping-cart\"\r\n          onClick={this.showOverlay}></i>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ShoppingCartOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.updateAmountToPay = this.updateAmountToPay.bind(this);\r\n  }\r\n  closeOverlay() {\r\n    document.getElementById('overlay').style.display = 'none';\r\n    document.querySelector('body').style.overflow = 'auto';\r\n  }\r\n  updateAmountToPay(item) {\r\n    this.forceUpdate();\r\n  }\r\n  render() {\r\n    let itemsInCart = this.props.data.itemsInCart.map((item, index) => {\r\n      // Return key which defines an order of items inside a cart. The order in a cart is different than in database\r\n      return <ShoppingCartProduct key={index} \r\n               item={item}\r\n               indexInCart={index}\r\n               removeFromCart={this.props.removeFromCart}\r\n               updateAmountToPay={this.updateAmountToPay} />  \r\n    });\r\n    let amountToPay = 0;\r\n    for (let i=0; i<this.props.data.items.length; i++) {\r\n      amountToPay += this.props.data.items[i].price * this.props.data.items[i].quantityInCart;\r\n    }\r\n    return (\r\n      <div id=\"overlay\">\r\n        <section id=\"shopping-cart\">\r\n          <div id=\"cart-header\">\r\n            <span id=\"cart-title\">Shopping Cart</span>\r\n            <i className=\"far fa-times-circle\"\r\n              onClick={this.closeOverlay.bind(this)}></i>\r\n          </div>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Product</th>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n                <th>Quantity</th>\r\n                <th>Total</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {itemsInCart}\r\n            </tbody>\r\n          </table>\r\n          <span id=\"empty-cart\">{(itemsInCart.length == 0) ? \"Shopping cart is empty\" : \"\"}</span>\r\n          <h3 id=\"cart-total\">Cart Total</h3>\r\n          <div id=\"totals\">\r\n            <span>Cart Totals</span>\r\n            <span>Number of items: {this.props.data.quantity}</span>\r\n            <span>Total: £{amountToPay}</span>\r\n          </div>\r\n          <button id=\"checkout\" \r\n            disabled={itemsInCart.length == 0 ? true : false} >Checkout</button>\r\n        </section>\r\n      </div>\r\n    )  \r\n  }\r\n}\r\n\r\nclass ShoppingCartProduct extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRemoveFromCart = this.handleRemoveFromCart.bind(this);\r\n    this.handleQuantityChange = this.handleQuantityChange.bind(this);\r\n  }\r\n  handleRemoveFromCart(e) {\r\n    this.props.removeFromCart(this.props.item, this.props.indexInCart);\r\n  }\r\n  handleQuantityChange(e) {\r\n    this.props.item.quantityInCart = e.target.value;\r\n    // Update total value\r\n    this.forceUpdate();\r\n    this.props.updateAmountToPay(this.props.item);\r\n  }\r\n  render() {\r\n    return(\r\n      <tr className=\"items-in-cart\">\r\n        <td><img src={this.props.item.image}></img></td>\r\n        <td>{this.props.item.name}</td>\r\n        <td>£{this.props.item.price}</td>\r\n        <td>\r\n          <input type=\"number\" name=\"quantity\" min=\"1\" max=\"10\" onChange={this.handleQuantityChange} />\r\n        </td>\r\n        <td>£{this.props.item.price * this.props.item.quantityInCart}</td>\r\n        <td><i className=\"fas fa-trash\"\r\n              onClick={this.handleRemoveFromCart}></i></td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nclass ProductList extends React.Component {\r\n  render() {\r\n    let items = this.props.items.map((item, index) => {\r\n      return <Product key={item.id}\r\n               item={item}\r\n               addToCart={this.props.addToCart} />\r\n    });\r\n    return (\r\n      <section id=\"list\">\r\n        {items}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nclass Product extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleAddToCart = this.handleAddToCart.bind(this);\r\n  }\r\n  handleAddToCart(e) {\r\n    this.props.addToCart(this.props.item);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"items\">\r\n        <img src={this.props.item.image}></img>\r\n        <div className=\"info\">\r\n          <h3>{this.props.item.name}</h3>\r\n          <span>£ {this.props.item.price}</span>\r\n          <button onClick={this.handleAddToCart}\r\n            disabled={this.props.item.inCart}\r\n            className={this.props.item.inCart ? \"button-disabled\" : \"\"}>\r\n            {this.props.item.inCart ? \"Item in a cart\" : \"Add to cart\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ShoppingCartApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      items: shoppingProducts,\r\n      quantity: 0,\r\n      amountToPay: 0,\r\n      itemsInCart: []\r\n    }\r\n    this.addToCart = this.addToCart.bind(this);\r\n    this.removeFromCart = this.removeFromCart.bind(this);\r\n  }\r\n  addToCart(item) {\r\n    let itemsInCart = this.state.itemsInCart;\r\n    itemsInCart.push(this.props.items[item.id]);\r\n    shoppingProducts[item.id].inCart = true;\r\n    shoppingProducts[item.id].quantityInCart = 1;\r\n    this.setState({\r\n      quantity: this.state.quantity + 1,\r\n      amountToPay: this.state.amountToPay + this.props.items[item.id].price,\r\n      itemsInCart: itemsInCart,\r\n      items: shoppingProducts\r\n    });\r\n  }\r\n  removeFromCart(item, indexInCart) {\r\n    let itemsInCart = this.state.itemsInCart;\r\n    shoppingProducts[item.id].inCart = false;\r\n    shoppingProducts[item.id].quantityInCart = 0;\r\n    itemsInCart.splice(indexInCart, 1);\r\n    this.setState({\r\n      quantity: this.state.quantity - 1,\r\n      amountToPay: this.state.amountToPay - this.props.items[item.id].price,\r\n      itemsInCart: itemsInCart,\r\n      items: shoppingProducts\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <main>\r\n        <Header quantity={this.state.quantity}\r\n          amountToPay={this.state.amountToPay} />\r\n        <ShoppingCartOverlay data={this.state}\r\n          removeFromCart={this.removeFromCart} />\r\n        <ProductList items={this.props.items}\r\n          addToCart={this.addToCart} />\r\n      </main>\r\n    )\r\n  }\r\n}\r\nexport default ShoppingCartApp"]},"metadata":{},"sourceType":"module"}