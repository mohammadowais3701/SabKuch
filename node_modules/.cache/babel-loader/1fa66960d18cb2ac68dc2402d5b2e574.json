{"ast":null,"code":"import $ from 'jquery';\nlet cart = [];\nlet storage = JSON.parse(localStorage.getItem('products'));\n\ntry {\n  for (var i = 0; i < storage.length; i++) {\n    cart.push({\n      id: storage[i]['id'],\n      name: storage[i]['name'],\n      price: storage[i]['price'],\n      image: storage[i]['image'],\n      qty: storage[i]['qty']\n    });\n  }\n} catch (Exception) {}\n\nsetTimeout(setProducts, 1000);\nexport function view(product) {\n  showUI(product);\n}\n\nfunction showUI(product) {\n  var ui = document.getElementById('vi');\n  alert(ui);\n  ui.innerHTML = \"\";\n  ui.innerHTML = `\n<div class=\"col-md-6\">\n\t\t\t\t\t\t<div id=\"product-main-view\">\n\t\t\t\t\t\t\t<div class=\"product-view\">\n\t\t\t\t\t\t\t\t<img src=${product[3]} alt=\"\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n<div class=\"col-md-6\" >\n\t\t\t\t\t\t<div class=\"product-body\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<h2 class=\"product-name\">${product[1]}</h2>\n\t\t\t\t\t\t\t<h3 class=\"product-price\">${product[2]} PKR</h3>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<h4><b>BRAND</b>:${product[1]}</h4>\n\t\t\t\t\t\t\t<h5>Launched in 1956, the Day-Date made its debut as the first waterproof and self-winding chronometer wristwatch to offer a modern calendar with an instantaneous day display, spelt out in full in a window on the dial, in addition to the date.</h5>\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t<div class=\"product-btns\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<button class=\"primary-btn add-to-cart\"><i class=\"fa fa-shopping-cart\"></i> Add to Cart</button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`; // additems(product);\n}\n\nexport function add(product) {\n  additems(product);\n}\nexport function additems(product) {\n  var total = document.getElementById('sub-total-cart');\n  const count = cart.filter(obj => obj.id === product[0]).length;\n\n  if (count == 0) {\n    document.getElementById(\"qt\").innerHTML = Number(document.getElementById(\"qt\").innerHTML) + 1;\n    cart.push({\n      id: product[0],\n      name: product[1],\n      price: product[2],\n      image: product[3],\n      qty: count + 1\n    });\n  } else {\n    cart.filter(function (obj) {\n      if (obj.id === product[0]) {\n        obj.qty = obj.qty + 1;\n      }\n    });\n  }\n\n  localStorage.setItem(\"products\", JSON.stringify(cart));\n  total.innerHTML = Number(total.innerHTML) + Number(product[2]);\n  localStorage.setItem('total-price', Number(total.innerHTML));\n  setProducts();\n}\nexport function setProducts() {\n  try {\n    document.getElementById('sub-total-cart').innerHTML = localStorage.getItem('total-price');\n    let content = document.getElementsByClassName('shopping-cart-list');\n    if (content[0].innerHTML !== undefined) content[0].innerHTML = '';\n\n    for (var i = 0; i < cart.length; i++) {\n      content[0].innerHTML += `<div class=\"product product-widget\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-thumb\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=${cart[i].image} alt=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-price\">${cart[i].price} </h3><span className=\"qty\">x${cart[i].qty}</span></h3>\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"product-name\"><a href=\"#\">${cart[i].name}</a></h2>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cancel-btn\" data-id=${cart[i].id} ><i class=\"fa fa-trash\" ></i></button>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n    }\n\n    $(content[0]).on('click', '.cancel-btn', function (event) {\n      var id = $(this).attr('data-id');\n      cart = cart.filter(function (product) {\n        if (product.id === id) {\n          document.getElementById('sub-total-cart').innerHTML = Number(document.getElementById('sub-total-cart').innerHTML) - Number(product.qty) * Number(product.price);\n        }\n\n        return product.id !== id;\n      });\n      localStorage.removeItem('products');\n      localStorage.setItem(\"products\", JSON.stringify(cart));\n      localStorage.setItem('total-price', Number(document.getElementById('sub-total-cart').innerHTML));\n      document.getElementById(\"qt\").innerHTML = Number(JSON.parse(localStorage.products).length);\n      setProducts();\n    });\n  } catch (ex) {} // var elements=document.getElementsByClassName('fa-trash');\n  // for(var i=0; i<cart.length;i++){\n  //   elements[i].on('click','button',removeItems())\n  // }\n\n}","map":{"version":3,"sources":["/mnt/d/7th Semester/sabkuch/src/Components/addtocart.js"],"names":["$","cart","storage","JSON","parse","localStorage","getItem","i","length","push","id","name","price","image","qty","Exception","setTimeout","setProducts","view","product","showUI","ui","document","getElementById","alert","innerHTML","add","additems","total","count","filter","obj","Number","setItem","stringify","content","getElementsByClassName","undefined","on","event","attr","removeItem","products","ex"],"mappings":"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","sourcesContent":["import $ from 'jquery';\r\n\r\nlet cart=[]\r\nlet storage=JSON.parse(localStorage.getItem('products'));\r\n\r\n\r\n\r\n\r\n\r\ntry{\r\n\t\r\nfor ( var i=0;i<storage.length;i++){\r\n  cart.push({id:storage[i]['id'],name:storage[i]['name'],price:storage[i]['price'],image:storage[i]['image'],qty:storage[i]['qty']})\r\n\r\n\r\n}\r\n\r\n}\r\ncatch(Exception){\r\n\r\n}\r\nsetTimeout(setProducts, 1000);\r\nexport function view(product){\r\n    \r\nshowUI(product);\r\n\r\n\r\n}\r\nfunction showUI(product){\r\nvar ui=document.getElementById('vi');\r\nalert(ui);\r\nui.innerHTML=\"\";\r\nui.innerHTML=`\r\n<div class=\"col-md-6\">\r\n\t\t\t\t\t\t<div id=\"product-main-view\">\r\n\t\t\t\t\t\t\t<div class=\"product-view\">\r\n\t\t\t\t\t\t\t\t<img src=${product[3]} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n<div class=\"col-md-6\" >\r\n\t\t\t\t\t\t<div class=\"product-body\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h2 class=\"product-name\">${product[1]}</h2>\r\n\t\t\t\t\t\t\t<h3 class=\"product-price\">${product[2]} PKR</h3>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4><b>BRAND</b>:${product[1]}</h4>\r\n\t\t\t\t\t\t\t<h5>Launched in 1956, the Day-Date made its debut as the first waterproof and self-winding chronometer wristwatch to offer a modern calendar with an instantaneous day display, spelt out in full in a window on the dial, in addition to the date.</h5>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<div class=\"product-btns\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<button class=\"primary-btn add-to-cart\"><i class=\"fa fa-shopping-cart\"></i> Add to Cart</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>`\r\n  // additems(product);\r\n\r\n}\r\nexport function add(product){\r\n\r\n\r\n  additems(product);\r\n\r\n\r\n\r\n\r\n}\r\nexport function additems(product){\r\n\r\nvar total=document.getElementById('sub-total-cart');\r\n\r\nconst count=cart.filter((obj)=>obj.id===product[0]).length;\r\nif(count==0){\r\n\t  document.getElementById(\"qt\").innerHTML=Number(document.getElementById(\"qt\").innerHTML)+1;\r\ncart.push({id:product[0],name:product[1],price:product[2],image:product[3],qty:count+1})}\r\nelse{\r\n\tcart.filter(function(obj){\r\n\t\tif(obj.id===product[0]){\r\n\t\tobj.qty=obj.qty+1;\r\n\t\t}\r\n\t});\r\n\t\r\n\t}\r\n\r\nlocalStorage.setItem(\"products\",JSON.stringify(cart));\r\ntotal.innerHTML=Number(total.innerHTML)+Number(product[2])\r\nlocalStorage.setItem('total-price',Number(total.innerHTML))\r\n\r\n\r\nsetProducts();\r\n\r\n}\r\nexport function setProducts(){\r\ntry{\r\ndocument.getElementById('sub-total-cart').innerHTML=localStorage.getItem('total-price');\r\n\r\n\r\nlet content=document.getElementsByClassName('shopping-cart-list');\r\n\r\nif(content[0].innerHTML!==undefined)\r\ncontent[0].innerHTML='';\r\nfor(var i=0; i<cart.length;i++){\r\ncontent[0].innerHTML+=`<div class=\"product product-widget\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-thumb\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=${cart[i].image} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-price\">${cart[i].price} </h3><span className=\"qty\">x${cart[i].qty}</span></h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"product-name\"><a href=\"#\">${cart[i].name}</a></h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cancel-btn\" data-id=${cart[i].id} ><i class=\"fa fa-trash\" ></i></button>\r\n\t\t\t\t\t\t\t\t\t\t</div>`;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\r\n}\r\n\r\n$(content[0]).on('click','.cancel-btn',function(event){\r\n\r\n\tvar id=$(this).attr('data-id');\r\n\tcart=cart.filter(function(product){\r\n\t\tif(product.id===id){\r\n\t\t\tdocument.getElementById('sub-total-cart').innerHTML=Number(document.getElementById('sub-total-cart').innerHTML)-Number(product.qty)*(Number(product.price));\r\n\t\t}\r\nreturn product.id!==id;\r\n\r\n});\r\nlocalStorage.removeItem('products')\r\nlocalStorage.setItem(\"products\",JSON.stringify(cart));\r\nlocalStorage.setItem('total-price',Number(document.getElementById('sub-total-cart').innerHTML))\r\n\r\ndocument.getElementById(\"qt\").innerHTML=Number(JSON.parse(localStorage.products).length);\r\nsetProducts();\r\n\t\r\n});\r\n}\r\ncatch(ex){}\r\n// var elements=document.getElementsByClassName('fa-trash');\r\n// for(var i=0; i<cart.length;i++){\r\n//   elements[i].on('click','button',removeItems())\r\n// }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}