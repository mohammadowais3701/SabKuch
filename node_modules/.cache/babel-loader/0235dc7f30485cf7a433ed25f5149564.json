{"ast":null,"code":"import $ from 'jquery';\nlet cart = [];\nlet storage = JSON.parse(localStorage.getItem('products'));\nvar total = document.getElementById('sub-total-cart');\ntotal.innerHTML = localStorage.getItem('total-price');\nalert(document.getElementById('sub-total-cart').innerHTML);\n\ntry {\n  let t_price = localStorage.getItem('total_price');\n\n  for (var i = 0; i < storage.length; i++) {\n    cart.push({\n      id: storage[i]['id'],\n      name: storage[i]['name'],\n      price: storage[i]['price'],\n      image: storage[i]['image']\n    });\n  }\n} catch (Exception) {}\n\nsetTimeout(setProducts, 1000);\nexport function add(product) {\n  document.getElementById(\"qt\").innerHTML = Number(document.getElementById(\"qt\").innerHTML) + 1;\n  additems(product);\n}\n\nfunction additems(product) {\n  var total = document.getElementById('sub-total-cart');\n  cart.push({\n    id: product[0],\n    name: product[1],\n    price: product[2],\n    image: product[3]\n  });\n  localStorage.setItem(\"products\", JSON.stringify(cart));\n  total.innerHTML = Number(total.innerHTML) + Number(product[2]);\n  localStorage.setItem('total-price', Number(total.innerHTML));\n  setProducts();\n}\n\nfunction setProducts() {\n  let content = document.getElementsByClassName('shopping-cart-list');\n  if (content[0].innerHTML !== undefined) content[0].innerHTML = '';\n\n  for (var i = 0; i < cart.length; i++) {\n    content[0].innerHTML += `<div class=\"product product-widget\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-thumb\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=${cart[i].image} alt=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-price\">${cart[i].price} </h3>\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"product-name\"><a href=\"#\">${cart[i].name}</a></h2>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cancel-btn\" data-id=${cart[i].id} ><i class=\"fa fa-trash\" ></i></button>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n  }\n\n  $(content[0]).on('click', '.cancel-btn', function (event) {\n    var id = $(this).attr('data-id');\n    cart = cart.filter(function (product) {\n      if (product.id === id) {\n        document.getElementById('sub-total-cart').innerHTML = Number(document.getElementById('sub-total-cart').innerHTML) - Number(product.price);\n      }\n\n      return product.id !== id;\n    });\n    localStorage.removeItem('products');\n    localStorage.setItem(\"products\", JSON.stringify(cart));\n    localStorage.setItem('total-price', Number(document.getElementById('sub-total-cart').innerHTML));\n    document.getElementById(\"qt\").innerHTML = Number(JSON.parse(localStorage.products).length);\n    setProducts();\n  }); // var elements=document.getElementsByClassName('fa-trash');\n  // for(var i=0; i<cart.length;i++){\n  //   elements[i].on('click','button',removeItems())\n  // }\n}","map":{"version":3,"sources":["/mnt/d/7th Semester/sabkuch/src/Components/addtocart.js"],"names":["$","cart","storage","JSON","parse","localStorage","getItem","total","document","getElementById","innerHTML","alert","t_price","i","length","push","id","name","price","image","Exception","setTimeout","setProducts","add","product","Number","additems","setItem","stringify","content","getElementsByClassName","undefined","on","event","attr","filter","removeItem","products"],"mappings":"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","sourcesContent":["import $ from 'jquery';\r\n\r\nlet cart=[]\r\nlet storage=JSON.parse(localStorage.getItem('products'));\r\nvar total=document.getElementById('sub-total-cart');\r\ntotal.innerHTML=localStorage.getItem('total-price');\r\nalert(document.getElementById('sub-total-cart').innerHTML);\r\n\r\ntry{\r\n\tlet t_price=localStorage.getItem('total_price');\r\nfor ( var i=0;i<storage.length;i++){\r\n  cart.push({id:storage[i]['id'],name:storage[i]['name'],price:storage[i]['price'],image:storage[i]['image']})\r\n\r\n\r\n}\r\n\r\n}\r\ncatch(Exception){\r\n\r\n}\r\nsetTimeout(setProducts, 1000);\r\nexport function add(product){\r\n\r\n  document.getElementById(\"qt\").innerHTML=Number(document.getElementById(\"qt\").innerHTML)+1;\r\n  additems(product);\r\n\r\n\r\n\r\n\r\n}\r\nfunction additems(product){\r\n\r\nvar total=document.getElementById('sub-total-cart');\r\n\r\ncart.push({id:product[0],name:product[1],price:product[2],image:product[3]})\r\nlocalStorage.setItem(\"products\",JSON.stringify(cart));\r\ntotal.innerHTML=Number(total.innerHTML)+Number(product[2])\r\nlocalStorage.setItem('total-price',Number(total.innerHTML))\r\n\r\nsetProducts();\r\n\r\n}\r\nfunction setProducts(){\r\n\r\nlet content=document.getElementsByClassName('shopping-cart-list');\r\nif(content[0].innerHTML!==undefined)\r\ncontent[0].innerHTML='';\r\nfor(var i=0; i<cart.length;i++){\r\ncontent[0].innerHTML+=`<div class=\"product product-widget\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-thumb\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=${cart[i].image} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-price\">${cart[i].price} </h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"product-name\"><a href=\"#\">${cart[i].name}</a></h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cancel-btn\" data-id=${cart[i].id} ><i class=\"fa fa-trash\" ></i></button>\r\n\t\t\t\t\t\t\t\t\t\t</div>`;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\r\n}\r\n$(content[0]).on('click','.cancel-btn',function(event){\r\n\r\n\tvar id=$(this).attr('data-id');\r\n\tcart=cart.filter(function(product){\r\n\t\tif(product.id===id){\r\n\t\t\tdocument.getElementById('sub-total-cart').innerHTML=Number(document.getElementById('sub-total-cart').innerHTML)-Number(product.price);\r\n\t\t}\r\nreturn product.id!==id;\r\n\r\n});\r\nlocalStorage.removeItem('products')\r\nlocalStorage.setItem(\"products\",JSON.stringify(cart));\r\nlocalStorage.setItem('total-price',Number(document.getElementById('sub-total-cart').innerHTML))\r\ndocument.getElementById(\"qt\").innerHTML=Number(JSON.parse(localStorage.products).length);\r\nsetProducts();\r\n\t\r\n});\r\n\r\n\r\n// var elements=document.getElementsByClassName('fa-trash');\r\n// for(var i=0; i<cart.length;i++){\r\n//   elements[i].on('click','button',removeItems())\r\n// }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}